<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Report 1
</title>
<link href="LightBlue_Theme.css" type="text/css" rel="stylesheet">
</head>
<!--This file has been automatically generated by PowerDesigner.-->
<body>
<h3>
<a name="1">表的清单</a> 
</h3>
<table class="Grid" border="1" cellspacing="1" width="100%">
<tr>
<td class="Header">
<p align="center">名称
</p>
</td>
<td class="Header">
<p align="center">代码
</p>
</td>
<td class="Header">
<p align="center">注释
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo8.htm#1">sys_auth</a>
</p>
</td>
<td>
<p align="left"><a href="Repo8.htm#1">sys_auth</a>
</p>
</td>
<td>
<p align="left">组织机构 工作职位  用户  角色 关系表<br />
 *1、授权的五种情况<br />
  只给组织机构授权 (orgnizationId=? and jobId=0)<br />
 只给工作职务授权 (orgnizationId=0 and jobId=?)<br />
  给组织机构和工作职务都授权 (orgnizationId=? and jobId=?)<br />
  给用户授权  (userId=?)<br />
 给组授权 (groupId=?)<br />
 *因此查询用户有没有权限 就是<br />
 where (orgnizationId=? and jobId=0) or (organizationId = 0 and jobId=?) or (orgnizationId=? and jobId=?) or (userId=?) or (groupId=?)<br />
 2、为了提高性能<br />
 放到一张表<br />
 此处不做关系映射（这样需要配合缓存）<br />
 <br />
 3、如果另一方是可选的（如只选组织机构 或 只选工作职务） 那么默认0 使用0的目的是为了也让走索引
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo9.htm#1">sys_group</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo9.htm#1">sys_group</a>
</p>
</td>
<td class="TD2">
<p align="left">用户组
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo10.htm#1">sys_group_relation</a>
</p>
</td>
<td>
<p align="left"><a href="Repo10.htm#1">sys_group_relation</a>
</p>
</td>
<td>
<p align="left">用户组与组织机构，用户之间的关系
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo11.htm#1">sys_job</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo11.htm#1">sys_job</a>
</p>
</td>
<td class="TD2">
<p align="left">职务
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo12.htm#1">sys_organization</a>
</p>
</td>
<td>
<p align="left"><a href="Repo12.htm#1">sys_organization</a>
</p>
</td>
<td>
<p align="left">组织机构
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo13.htm#1">sys_permission</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo13.htm#1">sys_permission</a>
</p>
</td>
<td class="TD2">
<p align="left">权限
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo14.htm#1">sys_resource</a>
</p>
</td>
<td>
<p align="left"><a href="Repo14.htm#1">sys_resource</a>
</p>
</td>
<td>
<p align="left">资源表，如，文件，按钮等
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo15.htm#1">sys_role</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo15.htm#1">sys_role</a>
</p>
</td>
<td class="TD2">
<p align="left">角色
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo16.htm#1">sys_role_resource_permission</a>
</p>
</td>
<td>
<p align="left"><a href="Repo16.htm#1">sys_role_resource_permission</a>
</p>
</td>
<td>
<p align="left">角色-资源-权限
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo17.htm#1">sys_user</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo17.htm#1">sys_user</a>
</p>
</td>
<td class="TD2">
<p align="left">用户
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo18.htm#1">sys_user_last_online</a>
</p>
</td>
<td>
<p align="left"><a href="Repo18.htm#1">sys_user_last_online</a>
</p>
</td>
<td>
<p align="left">在线用户最后一次在线信息()<br />
 *此表对于分析活跃用户有用
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo19.htm#1">sys_user_online</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo19.htm#1">sys_user_online</a>
</p>
</td>
<td class="TD2">
<p align="left">用户会话id ===&gt; uid
</p>
</td>
</tr>
<tr>
<td>
<p align="left"><a href="Repo20.htm#1">sys_user_organization_job</a>
</p>
</td>
<td>
<p align="left"><a href="Repo20.htm#1">sys_user_organization_job</a>
</p>
</td>
<td>
<p align="left">为了提高连表性能 使用数据冗余 而不是 组织机构(1)-----(*)职务的中间表<br />
  即在该表中 用户--组织机构--职务 是唯一的  但 用户-组织机构可能重复
</p>
</td>
</tr>
<tr>
<td class="TD2">
<p align="left"><a href="Repo21.htm#1">sys_user_status_history</a>
</p>
</td>
<td class="TD2">
<p align="left"><a href="Repo21.htm#1">sys_user_status_history</a>
</p>
</td>
<td class="TD2">
<p align="left">用户历史状态
</p>
</td>
</tr>
</table><br />
<hr />
<table><tr>
<td><table class="NavGroup"><tr><td><a class="NavButton" href="Repo3.htm">上一页</a></td></tr></table></td>
<td width=4></td>
<td><table class="NavGroup"><tr><td><a class="NavButton" href="Home_LightBlue.html">主页</a></td></tr></table></td>
<td width=4></td>
<td><table class="NavGroup"><tr><td><a class="NavButton" href="Repo5.htm">下一页</a></td></tr></table></td></tr></table>
<br />
<br />
</body>
</html>
